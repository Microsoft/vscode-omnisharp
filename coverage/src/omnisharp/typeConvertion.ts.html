<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/omnisharp/typeConvertion.ts</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../prettify.css">
    <link rel="stylesheet" href="../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header medium">
    <h1>Code coverage report for <span class="entity">src/omnisharp/typeConvertion.ts</span></h1>
    <h2>
        Statements: <span class="metric">58.7% <small>(27 / 46)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">26.67% <small>(4 / 15)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">33.33% <small>(2 / 6)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">58.7% <small>(27 / 46)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../index.html">All files</a> &#187; <a href="index.html">src/omnisharp/</a> &#187; typeConvertion.ts</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">51</span>
<span class="cline-any cline-yes">51</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
'use strict';
&nbsp;
import * as protocol from './protocol';
import * as vscode from 'vscode';
&nbsp;
export function toLocation(location: protocol.ResourceLocation | protocol.QuickFix<span class="fstat-no" title="function not covered" >): vscode.Location {</span>
    const fileName = <span class="cstat-no" title="statement not covered" >vscode.Uri.file(location.FileName);</span>
<span class="cstat-no" title="statement not covered" >    return toLocationFromUri(fileName, location);</span>
}
&nbsp;
export function toLocationFromUri(uri: vscode.Uri, location: protocol.ResourceLocation | protocol.QuickFix<span class="fstat-no" title="function not covered" >): vscode.Location {</span>
    const position = <span class="cstat-no" title="statement not covered" >new vscode.Position(location.Line - 1, location.Column - 1);</span>
&nbsp;
    const endLine = (&lt;protocol.QuickFix&gt;<span class="cstat-no" title="statement not covered" >location).EndLine;</span>
    const endColumn = (&lt;protocol.QuickFix&gt;<span class="cstat-no" title="statement not covered" >location).EndColumn;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (endLine !== undefined &amp;&amp; endColumn !== undefined) {</span>
        const endPosition = <span class="cstat-no" title="statement not covered" >new vscode.Position(endLine - 1, endColumn - 1);</span>
<span class="cstat-no" title="statement not covered" >        return new vscode.Location(uri, new vscode.Range(position, endPosition));</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    return new vscode.Location(uri, position);</span>
}
&nbsp;
export function toRange(rangeLike: { Line: number; Column: number; EndLine: number; EndColumn: number; }): vscode.Range {
    let {Line, Column, EndLine, EndColumn} = rangeLike;
    return new vscode.Range(Line - 1, Column - 1, EndLine - 1, EndColumn - 1);
}
&nbsp;
export function toRange2(rangeLike: { StartLine: number; StartColumn: number; EndLine: number; EndColumn: number; }<span class="fstat-no" title="function not covered" >): vscode.Range {</span>
    let {StartLine, StartColumn, EndLine, EndColumn} = <span class="cstat-no" title="statement not covered" >rangeLike;</span>
<span class="cstat-no" title="statement not covered" >    return new vscode.Range(StartLine - 1, StartColumn - 1, EndLine - 1, EndColumn - 1);</span>
}
&nbsp;
export function createRequest&lt;T extends protocol.Request&gt;(document: vscode.TextDocument, where: vscode.Position | vscode.Range, includeBuffer: boolean = false): T {
&nbsp;
    let Line: number, Column: number;
&nbsp;
    <span class="missing-if-branch" title="else path not taken" >E</span>if (where instanceof vscode.Position) {
        Line = where.line + 1;
        Column = where.character + 1;
    } else <span class="cstat-no" title="statement not covered" >if (where instanceof vscode.Range) {</span>
<span class="cstat-no" title="statement not covered" >        Line = where.start.line + 1;</span>
<span class="cstat-no" title="statement not covered" >        Column = where.start.character + 1;</span>
    }
&nbsp;
    // for metadata sources, we need to remove the [metadata] from the filename, and prepend the $metadata$ authority
    // this is expected by the Omnisharp server to support metadata-to-metadata navigation
    let fileName = document.uri.scheme === "omnisharp-metadata" ? 
<span class="branch-0 cbranch-no" title="branch not covered" >        `${document.uri.authority}${document.fileName.replace("[metadata] ", "")}` </span>: 
        document.fileName;
&nbsp;
    let request: protocol.Request = {
        FileName: fileName,
        Buffer: includeBuffer ? <span class="branch-0 cbranch-no" title="branch not covered" >document.getText() </span>: undefined,
        Line,
        Column
    };
&nbsp;
    return &lt;T&gt;request;
}
&nbsp;
export function toDocumentSymbol(bucket: vscode.SymbolInformation[], node: protocol.Node, containerLabel?: string<span class="fstat-no" title="function not covered" >): void {</span>
&nbsp;
    let ret = <span class="cstat-no" title="statement not covered" >new vscode.SymbolInformation(node.Location.Text, kinds[node.Kind],</span>
        toRange(node.Location),
        undefined, containerLabel);
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (node.ChildNodes) {</span>
<span class="cstat-no" title="statement not covered" >        for (let child of node.ChildNodes) {</span>
<span class="cstat-no" title="statement not covered" >            toDocumentSymbol(bucket, child, ret.name);</span>
        }
    }
<span class="cstat-no" title="statement not covered" >    bucket.push(ret);</span>
}
&nbsp;
let kinds: { [kind: string]: vscode.SymbolKind; } = Object.create(null);
kinds['NamespaceDeclaration'] = vscode.SymbolKind.Namespace;
kinds['ClassDeclaration'] = vscode.SymbolKind.Class;
kinds['FieldDeclaration'] = vscode.SymbolKind.Field;
kinds['PropertyDeclaration'] = vscode.SymbolKind.Property;
kinds['EventFieldDeclaration'] = vscode.SymbolKind.Property;
kinds['MethodDeclaration'] = vscode.SymbolKind.Method;
kinds['EnumDeclaration'] = vscode.SymbolKind.Enum;
kinds['StructDeclaration'] = vscode.SymbolKind.Enum;
kinds['EnumMemberDeclaration'] = vscode.SymbolKind.Property;
kinds['InterfaceDeclaration'] = vscode.SymbolKind.Interface;
kinds['VariableDeclaration'] = vscode.SymbolKind.Variable;
&nbsp;</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Fri Mar 09 2018 19:23:26 GMT-0800 (PST)</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
